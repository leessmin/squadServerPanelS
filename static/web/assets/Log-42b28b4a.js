import{S as w}from"./SectionPanel-bf0ce22b.js";import{n as x,k as p,d as k,o as d,e as h,g as u,h as c,c as m,j as b,i as y,t as C,q as S,C as B,f}from"./index-2df293b2.js";import{h as L}from"./http-9bd06147.js";import{W as M,M as N}from"./worker-e1b6861a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./config-9c65774d.js";const V=x("logger",()=>{const r=p();async function l(){let e=await L().Require("/BA/log/get",{});if((e==null?void 0:e.code)!=200)return;const n=new M;new N(n,o=>{r.value=o.data}).sendMsg(e.data.log)}return{logData:r,getLogger:l}}),W=f("div",{class:"title-box"},[f("h3",null,"日志")],-1),E=k({__name:"Log",setup(r){const l=[{title:"消息",dataIndex:"msg",key:"msg"},{title:"级别",dataIndex:"level",key:"level",width:"8%",filters:[{text:"debug",value:"debug"},{text:"info",value:"info"},{text:"warn",value:"warn"},{text:"error",value:"error"},{text:"fatal",value:"fatal"}],onFilter:(a,t)=>a===t.level},{title:"时间",dataIndex:"time",key:"time",width:"10%"}],e=p(),n=new Map([["debug","success"],["info","default"],["warn","warning"],["error","error"],["fatal","#ff0d00"]]),i=(a,t,s)=>{console.log("params",a,t,s)},o=V();return o.getLogger(),o.$subscribe((a,t)=>{e.value=t.logData}),(a,t)=>{const s=m("a-tag"),_=m("a-table");return d(),h("main",null,[u(w,{class:"mt-zero"},{default:c(()=>[W,u(_,{columns:l,"data-source":e.value,onChange:i},{bodyCell:c(({column:v,record:g})=>[v.key==="level"?(d(),b(s,{key:0,color:S(n).get(g.level)},{default:c(()=>[y(C(g.level),1)]),_:2},1032,["color"])):B("",!0)]),_:1},8,["data-source"])]),_:1})])}}});export{E as default};
